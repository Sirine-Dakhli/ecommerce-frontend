<div class="blue-background">
  <div class="container">
    <h2 class="text-center">Gestion des Catégories</h2>


    <form class="category-form" (ngSubmit)="onSubmit()">
      <div class="row mb-3">
        <label for="nom" class="col-sm-2 col-form-label">Nom</label>
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control"
            id="nom"
            [(ngModel)]="categorie.nom"
            name="nom"
            placeholder="Nom de la catégorie"
            required
          />
        </div>
      </div>
      <div class="row mb-3">
        <label for="description" class="col-sm-2 col-form-label">Description</label>
        <div class="col-sm-10">
          <textarea
            class="form-control"
            id="description"
            [(ngModel)]="categorie.description"
            name="description"
            placeholder="Description de la catégorie"
          ></textarea>
        </div>
      </div>
      <div class="text-center">
        <button type="submit" class="btn">Enregistrer</button>
      </div>
    </form>

    
    <table class="styled-table">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cat of categories">
          <td>{{ cat.nom }}</td>
          <td>{{ cat.description }}</td>
          <td class="actions">
            <button class="btn-modifier" (click)="editCategorie(cat)">Modifier</button>
            <button class="btn-supprimer" (click)="deleteCategorie(cat.id)">Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!isLoading && categories.length === 0" class="text-center">
      <p class="text-muted">Aucune catégorie trouvée.</p>
    </div>
  </div>
</div>
